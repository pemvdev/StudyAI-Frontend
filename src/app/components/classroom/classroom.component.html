<div class="card classroom-card" (click)="toggleExpand()">

  <div class="card-body">

    <!-- HEADER -->
    <div class="classroom-header">
      <div>
        <h5 class="classroom-title">{{ name }}</h5>
        <p class="classroom-description">
          {{ description || 'No description' }}
        </p>
      </div>

      <div class="classroom-actions">
        <button
          class="btn btn-sm btn-light"
          (click)="onEdit($event)">
          Edit
        </button>

        <button
          class="btn btn-sm btn-light text-danger"
          (click)="onDelete($event)">
          Delete
        </button>
      </div>
    </div>

    <small class="text-muted">
      Created at: {{ dateOfCreation | date:'mediumDate' }}
    </small>



   <div *ngIf="expanded" class="subjects-section">

  <div class="subjects-header">
    <strong>Subjects</strong>

    <button
      class="btn btn-sm btn-outline-primary"
      (click)="addSubject($event)">
      + Add
    </button>
  </div>

  <div *ngFor="let subject of subjects" class="mt-2">
    <app-subject
      [id]="subject.id"
      [name]="subject.name"
      (edit)="onEditSubject($event)"
      (delete)="onDeleteSubject($event)">
    </app-subject>
  </div>

  <div *ngIf="subjects.length === 0" class="empty-state">
    No subjects yet.
  </div>

</div>

<!-- CREATE SUBJECT MODAL -->
<div class="modal fade show d-block" *ngIf="showCreateSubjectModal">

  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">Create Subject</h5>
        <button type="button" class="btn-close" (click)="closeSubjectModal()">
        </button>
      </div>

      <div class="modal-body">
        <form #subjectFormRef="ngForm" (ngSubmit)="saveSubject()">

          <div class="mb-3">
            <label class="form-label">Subject name</label>
            <input type="text" class="form-control" name="name" required [(ngModel)]="subjectForm.name">
          </div>

          <button type="submit" class="btn btn-primary" [disabled]="!subjectFormRef.valid">
            Create
          </button>

        </form>
      </div>

    </div>
  </div>
</div>